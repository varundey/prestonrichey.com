<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.493e6315ef3a09bc2f74.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.19.23"/><style data-styled="eWXuFb  dZTLiU cxhdwc fkmnfK eJXFLa bSuiGc liQTCq elkVYF fxovqS" data-styled-version="4.4.1">
/* sc-component-id: Nav__StyledNav-sc-10pvdn5-0 */
.eJXFLa{margin-bottom:1em;} @media (min-width:520px){.eJXFLa{margin-bottom:2em;}}
/* sc-component-id: Nav__StyledList-sc-10pvdn5-1 */
.bSuiGc{padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:0;} @media (min-width:520px){.bSuiGc{display:block;}}
/* sc-component-id: Nav__ListElement-sc-10pvdn5-2 */
.liQTCq{display:inline-block;padding:0.5em;text-align:center;font-size:1.8rem;} @media (min-width:300px){.liQTCq{font-size:2.2rem;padding-right:0;padding-left:0;}} @media (min-width:350px){.liQTCq{font-size:2.2rem;}} @media (min-width:520px){.liQTCq{padding:0;margin-right:2rem;font-size:2.4rem;}} .liQTCq:after{content:' ';display:none;white-space:pre;} @media (min-width:520px){.liQTCq:after{display:inline-block;}}
/* sc-component-id: Nav__NavItem-sc-10pvdn5-3 */
.elkVYF{color:black;border:none;} .elkVYF:hover{color:blue;} .elkVYF:before{content:'/';display:none;} @media (min-width:520px){.elkVYF:before{display:inline;}} .elkVYF.active{font-weight:bold;}
/* sc-component-id: sc-global-2049630349 */
html{line-height:1.15;-webkit-text-size-adjust:100%;} body{margin:0;} main{display:block;} h1{font-size:2em;margin:0.67em 0;} hr{box-sizing:content-box;height:0;overflow:visible;} pre{font-family:monospace,monospace;font-size:1em;} a{background-color:transparent;} abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;} b,strong{font-weight:bolder;} code,kbd,samp{font-family:monospace,monospace;font-size:1em;} small{font-size:80%;} sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;} sub{bottom:-0.25em;} sup{top:-0.5em;} img{border-style:none;} button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;} button,input{overflow:visible;} button,select{text-transform:none;} button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;} button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;} button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;} fieldset{padding:0.35em 0.75em 0.625em;} legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;} progress{vertical-align:baseline;} textarea{overflow:auto;} [type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;} [type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;} [type="search"]{-webkit-appearance:textfield;outline-offset:-2px;} [type="search"]::-webkit-search-decoration{-webkit-appearance:none;} ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;} details{display:block;} summary{display:list-item;} template{display:none;} [hidden]{display:none;} html,body{height:100%;} html{box-sizing:border-box;font-size:62.5%;} body{font-size:16px;font-size:1.6rem;font-family:'Roboto Mono',monospace;word-break:break-word;} h1,h2,h3,h4,h5,h6{font-family:'Rubik',sans-serif;margin:0.5em 0;} *,*:before,*:after{box-sizing:inherit;} iframe{margin:0 auto;display:block;max-width:100%;width:100%;} iframe.youtube{height:20rem;} @media (min-width:550px){iframe.youtube{height:34rem;}} blockquote{margin-left:1em;margin-right:1em;} @media (min-width:520px){blockquote{margin-left:2em;margin-right:2em;}} figure{margin:0;} ul{padding:0;list-style:square;} a{-webkit-text-decoration:none;text-decoration:none;color:blue;border-bottom:2px solid transparent;} a:hover{color:#999;border-color:#999;} a.anchor{border:none;} p{line-height:1.5em;font-size:1.8rem;} twitterwidget{margin:0 auto;} .sidebar{margin-left:auto;margin-right:auto;} @media (min-width:520px){.sidebar{width:calc(50% + 1em);clear:both;float:right;padding-left:1em;}} .sidebar.left{float:left;padding-left:0;padding-right:1em;} .sidebar img{width:100%;} .blog-full,.blog-inset{margin-left:auto;margin-right:auto;width:100%;} .blog-full img,.blog-inset img{width:100%;} @media (min-width:520px){.blog-inset{margin-top:2em;margin-bottom:2em;width:80%;}} .blog-section{font-size:1.8rem;} .blog-section:not(:first-child){margin-top:2em;} .blog-section h1,.blog-section h2,.blog-section h3,.blog-section h4,.blog-section h5,.blog-section h6{margin-bottom:0.5em;} .blog-section h1 + p,.blog-section h2 + p,.blog-section h3 + p,.blog-section h4 + p,.blog-section h5 + p,.blog-section h6 + p{margin-top:0.5em;} .blog-section ul{margin-left:1.5em;} @media (min-width:520px){.blog-section ul{margin-left:2.5em;}} .blog-section li{margin:0.5em 0;line-height:1.5em;} .blog-section li p{margin:0;} :not(pre) > code[class*="language-"],pre[class*="language-"]{font-size:0.9em;} .gatsby-highlight-code-line{background-color:#feb;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:0.75em;border-left:0.25em solid #f99;} @media (min-width:520px){.gatsby-resp-image-wrapper{margin-top:2em;margin-bottom:2em;width:80%;}}
/* sc-component-id: Layout__Main-p46nka-0 */
.eWXuFb{max-width:83rem;padding:1em 1em 2em;margin:0 auto;} @media (min-width:350px){.eWXuFb{padding:1em 1.5em 4em;}} @media (min-width:520px){.eWXuFb{padding:2rem 2em 6rem;}}
/* sc-component-id: Layout__StyledTitle-p46nka-2 */
.cxhdwc{margin:0.3em 0;} @media (min-width:350px){.cxhdwc{margin:0.5em 0 0.2em;}} @media (min-width:520px){.cxhdwc{margin:0.667em 0;}}
/* sc-component-id: Layout__TitleLink-p46nka-3 */
.fkmnfK{text-transform:lowercase;color:#000;-webkit-text-decoration:none;text-decoration:none;border:none;} .fkmnfK:hover{color:#0000ff;}
/* sc-component-id: post__StyledPostDate-sd6zd6-0 */
.fxovqS{color:#999;font-weight:400;display:block;margin-top:1em;margin-bottom:1em;text-align:right;}</style><title data-react-helmet="true">Varun Dey | prototype, __proto__ and Prototypal inheritance in JavaScript</title><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/><link data-react-helmet="true" rel="manifest" href="/manifest.json"/><link data-react-helmet="true" rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Rubik:700" rel="stylesheet"/><meta data-react-helmet="true" name="theme-color" content="#ffffff"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:url" content="https://varundey.me"/><meta data-react-helmet="true" property="og:image" content="https://varundey.me/social-meta.png"/><meta data-react-helmet="true" property="og:image:secure_url" content="https://varundey.me/social-meta.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:image" content="https://varundey.me/social-meta.png"/><meta data-react-helmet="true" name="twitter:creator" content="@AsDeyQuote"/><meta data-react-helmet="true" property="og:title" content="prototype, __proto__ and Prototypal inheritance in JavaScript"/><meta data-react-helmet="true" name="twitter:title" content="prototype, __proto__ and Prototypal inheritance in JavaScript"/><meta data-react-helmet="true" property="og:description" content="In this article, I take a deep dive into JavaScript prototypes and also explain about prototypal inheritance through it."/><meta data-react-helmet="true" name="twitter:description" content="In this article, I take a deep dive into JavaScript prototypes and also explain about prototypal inheritance through it."/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-d52f40336724ff536856.js"/><link as="script" rel="preload" href="/app-d07a6c5556c0157e8f92.js"/><link as="script" rel="preload" href="/styles-81ff2a24e854cf546515.js"/><link as="script" rel="preload" href="/commons-8d361ca93ee06ef9dbbb.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-a5b3a91fffd2e5649cfd.js"/><link as="fetch" rel="preload" href="/page-data/blog/js-prototypes/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><main class="Layout__Main-p46nka-0 eWXuFb"><header class="Layout__StyledHeader-p46nka-1 dZTLiU"><h1 class="Layout__StyledTitle-p46nka-2 cxhdwc"><a class="Layout__TitleLink-p46nka-3 fkmnfK" href="/">Varun Dey</a></h1><nav class="Nav__StyledNav-sc-10pvdn5-0 eJXFLa"><ul class="Nav__StyledList-sc-10pvdn5-1 bSuiGc"><li class="Nav__ListElement-sc-10pvdn5-2 liQTCq"><a class="Nav__NavItem-sc-10pvdn5-3 elkVYF" href="/blog/">blog</a></li><li class="Nav__ListElement-sc-10pvdn5-2 liQTCq"><a class="Nav__NavItem-sc-10pvdn5-3 elkVYF" href="/projects/">projects</a></li><li class="Nav__ListElement-sc-10pvdn5-2 liQTCq"><a class="Nav__NavItem-sc-10pvdn5-3 elkVYF" href="/talks/">talks</a></li></ul></nav></header><h1>prototype, __proto__ and Prototypal inheritance in JavaScript</h1><div><blockquote><p>You can also read this post on <a href="https://dev.to/varundey/prototype-proto-and-prototypal-inheritance-in-javascript-2inl">dev.to</a></p></blockquote><p>If you have spent some time with JavaScript, chances are that you have already seen or atleast heard about prototypes. If you are unsure about prototypes or what does it do, this article is just for you. In this article, I will try to help you understand working of JavaScript prototypes and in the process, try to explain what is prototypical inheritance and how does it work.</p><p>Before beginning, I hope that you are already aware that everything in JavaScript is a high level object. What this means is except null and undefined, everything in JavaSscript is derived from <code class="language-text">Object</code>.</p><blockquote><p>But Varun, how is that possible? We have several primitives in JavaScript like String, Number, Boolean etc. How can a data type, say Number, be derived from Object?</p></blockquote><h2 id="prototype-and-__proto__" style="position:relative"><a href="#prototype-and-__proto__" aria-label="prototype and __proto__ permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>prototype and <!-- -->_<!-- -->_<!-- -->proto__</h2><p>To answer that, we need to first understand what is prototype. Prototypes in JavaScript is nothing but a special set of properties which an object holds (remember, almost everything in JavaScript is derived from <code class="language-text">Object</code>). Each object holds it’s own set of <code class="language-text">prototype</code> properties. Let’s see a very basic example of what I mean by that. Open your browser dev tools and try the snippets as you go along.</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">fooFunc</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        foo<span class="token operator">:</span> <span class="token number">42</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
fooFunc<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>bar <span class="token operator">=</span> <span class="token string">&#x27;baz&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fooVal <span class="token operator">=</span> <span class="token function">fooFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooVal<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// {foo: 42}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooFunc<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// {bar: &quot;baz&quot;, constructor: ƒ}</span></code></pre></div><p>The second print statement gives you the example of prototypal inheritance in all it’s beauty. Function <code class="language-text">fooFunc</code> is derived from <code class="language-text">Object</code> instance and has it’s own set of <em>properties</em> with it i.e. <code class="language-text">{bar: baz}</code> along with whatever it carried along when it instantiated from <code class="language-text">Object</code> i.e. <code class="language-text">{constructor: ƒ}</code>.</p><blockquote><p>So if <code class="language-text">fooFunc</code> is derived from <code class="language-text">Object</code>, can I go up the chain and see <code class="language-text">Object</code>’s prototype?</p></blockquote><p>Good question and absolutely you can. However one thing you need to keep in mind is that except JavaScript <code class="language-text">function</code> type, every other prototype of an object resides in it’s <code class="language-text">__proto__</code> property. Let’s see what I mean by that.</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;prototype of fooFunc:&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooFunc<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// {bar: &quot;baz&quot;, constructor: ƒ}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;prototype of Object:&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooFunc<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// {constructor: ƒ, __defineGetter__: ƒ, __defineSetter__: ƒ, hasOwnProperty: ƒ, __lookupGetter__: ƒ, …}</span></code></pre></div><p>Do you see what I see? The last console statement returns an object with it’s own set of <em>special properties</em>. This is nothing but prototype chain of <code class="language-text">Object</code>. This confirms that we can actually traverse up the prototype chain and that our function <code class="language-text">fooFunc</code> is derived from <code class="language-text">Object</code>.</p><blockquote><p>So what happens when I try to traverse the prototype chain of <code class="language-text">Object</code>?</p></blockquote><p>Let’s see what happens:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooFunc<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {bar: &quot;baz&quot;, constructor: ƒ}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooFunc<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// {constructor: ƒ, __defineSetter__: ƒ, …}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooFunc<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// null</span></code></pre></div><p>You see, <code class="language-text">Object</code> in JavaScript is the top level construct. If you try to see what properties does <code class="language-text">Object</code>’s parent hold, you’ll get null because there is no parent of <code class="language-text">Object</code>.</p><p>At this point, I would like you to go back to the begining and co-relate everything till here to what I said earlier in the post.</p><blockquote><p>Prototpyes in JavaScript are nothing but a special set of properties held by an object.</p></blockquote><h2 id="prototypal-inheritance" style="position:relative"><a href="#prototypal-inheritance" aria-label="prototypal inheritance permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prototypal inheritance</h2><p>Now that you’ve understood how prototype works, prototypical inheritance should be pretty straight forward. Let’s look at the following example:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">obj</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> <span class="token string">&#x27;Varun&#x27;</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> <span class="token string">&#x27;Dey&#x27;</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> nameObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">obj</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nameObj<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 25</span></code></pre></div><p>Let’s break down what is happening over here:</p><ul><li>First off, we are defining a function <code class="language-text">obj</code>.</li><li>Now we are also assigning another property <code class="language-text">age</code> directly on <code class="language-text">obj</code>’s prototype chain.</li><li>We instantiate a variable called <code class="language-text">nameObj</code> from <code class="language-text">obj</code>. <code class="language-text">nameObj</code> is an object which gets two properties appended to it namely <code class="language-text">firstName</code> and <code class="language-text">lastName</code>.</li><li>When I ask <code class="language-text">newObj</code> for it’s <code class="language-text">age</code> property, it firstly goes into it’s own object and tries to find it. Does it find <code class="language-text">age</code> in <code class="language-text">nameObj</code> object?<ul><li>No. So it goes up the chain, which is <code class="language-text">nameObj.__proto__</code> and looks for an <code class="language-text">age</code> property in that object.</li><li>It finds an <code class="language-text">age</code> property over here because <code class="language-text">nameObj.__proto__</code> is exactly the same as <code class="language-text">obj.prototype</code>.</li></ul></li></ul><p>And this is what JavaScript’s prototypal inheritance is all about. Whenever you ask JavaScript to fetch you a key, it first looks into it’s own object’s property. If it does not find anything, it goes up to its prototypal chain (<code class="language-text">obj.__proto__</code>) and tries to find that key among those properties, if it does not find it there, it goes one level up it’s current prototypal chain (<code class="language-text">obj.__proto__.__proto__</code>) and does the same thing. It keeps on repeating the same process until it reaches the <code class="language-text">Object</code>’s prototype chain and returns undefined from there if it can not find it even there.</p><h2 id="prototype-pollution" style="position:relative"><a href="#prototype-pollution" aria-label="prototype pollution permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prototype pollution</h2><p>This makes an interesting case of inheritance in JavaScript which is quite different than other class-based languages like Java/C++:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">{</span>
        foo<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
        bar<span class="token operator">:</span> <span class="token string">&#x27;baz&#x27;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div><p>If you look closely, you will see that <code class="language-text">child</code> is an instantiated object of <code class="language-text">parent</code>. And <code class="language-text">parent</code> ultimately is nothing but an instantiated method of <code class="language-text">Object</code>. What this means is that <code class="language-text">child</code>’s’ and <code class="language-text">parent</code>’s prototype’s prototype is <code class="language-text">Object</code>’s prototype</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">child<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> parent<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__      <span class="token comment">// true</span></code></pre></div><p>Now let’s see one more example:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">{</span>
        foo<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
        bar<span class="token operator">:</span> <span class="token string">&#x27;baz&#x27;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
parent<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>baz <span class="token operator">=</span> <span class="token string">&#x27;I should not belong here&#x27;</span>
child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span></code></pre></div><p>Here you see a prime example of protoype pollution. I created a property <code class="language-text">baz</code> directly on <code class="language-text">Object</code>’s prototype by going over function’s prototype chain. Now this <code class="language-text">baz</code> will be shared across all instances of <code class="language-text">Object</code> and that is why if you see the console statement, you will find that along with other <code class="language-text">Object</code> properties, we now also have <code class="language-text">baz: &quot;I should not belong here&quot;</code>. This is a bad practice and is frowned upon as it breaks encapsulation.</p><p>Similarly I can also do this and JavaScript would allow me to do so:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">{</span>
        foo<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
        bar<span class="token operator">:</span> <span class="token string">&#x27;baz&#x27;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">delete</span> parent<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor
child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div><h2 id="performance" style="position:relative"><a href="#performance" aria-label="performance permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Performance</h2><p>Needless to say, as you traverse up your prorototype chain, the lookup time increases and hence the performance suffer. This becomes critical when you are trying to access a non existent property across the full prototypal chain. To check whether the property you need is defined in the object itself, you can use <code class="language-text">hasOwnProperty</code>.</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">child<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#x27;foo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>
parent<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#x27;baz&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// false</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#x27;baz&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre></div><h2 id="completing-the-circle" style="position:relative"><a href="#completing-the-circle" aria-label="completing the circle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Completing the circle</h2><p>In the very beginning, I said that except null and undefined, everything is <code class="language-text">Object</code> instantiation. Let’s prove that:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token string">&#x27;fooBar&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> baz <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> bar<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>    <span class="token comment">// true</span>
bar<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> baz<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>    <span class="token comment">// true</span></code></pre></div><p>So you see what I’m talking about. Almost everything in JavaScript comes from <code class="language-text">Object</code></p><h2 id="conclusion" style="position:relative"><a href="#conclusion" aria-label="conclusion permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2><p>Prototypes makes the fundamental blocks of JavaScript. I hope I was able to help you understand the how prototypes work in JavaScript. Once you get the proper hang of it, you can extend this knowledge to understand how <code class="language-text">this</code> works in JavaScript. Mozilla has an excellent resource on this and I encourage you to go through it as well - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain</a></p><p>I would love to hear if this article helped you in understanding JavaScript better. :)</p></div><time class="post__StyledPostDate-sd6zd6-0 fxovqS">2019-08-11</time></main></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-72524139-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/js-prototypes/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-d07a6c5556c0157e8f92.js"],"component---src-templates-post-js":["/component---src-templates-post-js-a5b3a91fffd2e5649cfd.js"],"component---src-templates-project-js":["/component---src-templates-project-js-e31fdb1d67326034c6e0.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-3b94f479bd3499dcc6a7.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-e5e120912daa310c7600.js"],"component---src-pages-talks-js":["/component---src-pages-talks-js-77d7a62f6644d96fa3bf.js"],"component---src-pages-404-mdx":["/component---src-pages-404-mdx-dfef729a5406381a42ea.js"],"component---src-pages-index-mdx":["/component---src-pages-index-mdx-3421f1b9d782604deefd.js"]};/*]]>*/</script><script src="/component---src-templates-post-js-a5b3a91fffd2e5649cfd.js" async=""></script><script src="/commons-8d361ca93ee06ef9dbbb.js" async=""></script><script src="/styles-81ff2a24e854cf546515.js" async=""></script><script src="/app-d07a6c5556c0157e8f92.js" async=""></script><script src="/webpack-runtime-d52f40336724ff536856.js" async=""></script></body></html>